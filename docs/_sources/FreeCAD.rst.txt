.. _free_cad_setup:


FreeCAD
=======

We use the program `FreeCAD <https://www.freecadweb.org/>`_  to construct a CAD model of phantom.
Whilst FreeCAD lacks some of the polish that a more formal CAD program provides, it has some very important advantages:

#. It's Free!!
#. It's entirely parametric. Everything can be scripted from python. This means that, as we have done here, one can create a script capable of building any possible variant on your baseline geometry.
#. Close integration with python means we have integrated access to a host of extra libraries, e.g. for optimisation

Setting up FreeCAD
------------------

Once you have downloaded and installed FreeCAD, I suggest making two changes to the default configuration. These will make working with the scripting interface much easier.

#. In “View” “panels” enable both the python console and the report view. 


Building the model with FreeCAD
-------------------------------

To build the model with FreeCAD;

#. start FreeCAD
#. open the scripting interface (see Figure 1). You can also access the scripting interface via Macro>>Macros
#. Change the 'User macro location:' such that it points to FreeCAD within this repository (Figure 2)
#. Run the BuildSphinx.FCMacro file (Figure 2) 
#. You may have to play around with the import statement within BuildSphinx.py to make sure it can find the PhaserGeometry module.

.. figure:: _static/FreeCADsetup.jpg
    :align: center
    :alt: FreeCAD setup
	:scale: 200%
    :figclass: align-center

    Figure 1: FreeCAD setup

.. figure:: _static/ExecuteMacro.jpg
    :align: center
    :alt: Set up FreeCAD macros
	:scale: 200%
    :figclass: align-center

    Figure 2: Running BuildSphinx.FCMacro
